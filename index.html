<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Load-grunt-configs : Allows splitting your grunt task configuration into separate files" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Load-grunt-configs</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/creynders/load-grunt-configs">View on GitHub</a>

          <h1 id="project_title">Load-grunt-configs</h1>
          <h2 id="project_tagline">Allows splitting your grunt task configuration into separate files</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/creynders/load-grunt-configs/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/creynders/load-grunt-configs/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="load-grunt-configs-" class="anchor" href="#load-grunt-configs-"><span class="octicon octicon-link"></span></a>load-grunt-configs <a href="http://travis-ci.org/creynders/load-grunt-configs"><img src="https://secure.travis-ci.org/creynders/load-grunt-configs.png?branch=master" alt="Build Status"></a>
</h1>

<p>Loads grunt task configurations from separate files.</p>

<p>Grunt files tend to grow fast due to big amount of tasks and their configuration objects.
This module allows you to split your Grunt task configuration objects into separate files any way you choose.
There are similar modules that allow you to the same, but with <code>grunt-load-configs</code> <strong>you can configure targets for a single task in multiple files</strong>.</p>

<p>This means you no longer need to group all task targets into a single file, but can split them up according to their task dependencies.</p>

<p>For example: you use the <code>watch</code> task to recompile your <code>.scss</code> files, but also to lint your source <code>.js</code> whenever one has changed. Typically you'd add a single <code>watch</code> configuration object to configure this, but with <code>load-grunt-configs</code> you can split these into several files and group all task targets together whenever it makes sense:</p>

<div class="highlight highlight-javascript"><pre>
<span class="c1">//config/css.js</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">tasks</span><span class="o">=</span><span class="p">{</span>
    <span class="nx">watch</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">scss</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">'app/sass/*.{scss,sass}'</span><span class="p">],</span>
            <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">'compass:source'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">compass</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">source</span><span class="o">:</span><span class="p">{</span>
            <span class="c1">//configuration settings</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">//config/lint.js</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">watch</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">lint</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">files</span><span class="o">:</span> <span class="p">[</span><span class="s1">'app/{,*/}*.js'</span><span class="p">]</span>
            <span class="nx">tasks</span><span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:source'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">jshint</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">source</span><span class="o">:</span> <span class="p">{</span>
            <span class="c1">//configuration settings</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Install the module with: <code>npm install load-grunt-configs --save-dev</code></p>

<div class="highlight highlight-javascript"><pre><span class="c1">// Gruntfile.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">grunt</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">'grunt-contrib-jshint'</span><span class="p">);</span>

    <span class="c1">//loads the various task configuration files</span>
    <span class="kd">var</span> <span class="nx">configs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'load-grunt-configs'</span><span class="p">)(</span><span class="nx">grunt</span><span class="p">);</span>
    <span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">(</span><span class="nx">configs</span><span class="p">);</span>

    <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">'default'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'jshint'</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>

<p>To configure the <code>jshint</code> task for example, add a file <code>config/jshint.json</code>:</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
    <span class="nt">"gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>By default the basename (without the file extension) of the filename will be used to recognize which task is being configured. <code>jshint</code> in the above example.</p>

<h2>
<a name="using-node-modules-for-configuration" class="anchor" href="#using-node-modules-for-configuration"><span class="octicon octicon-link"></span></a>Using node modules for configuration</h2>

<p>Task configuration is also possible through node modules, either by exposing an object:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//config/jshint.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
         <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>

<p>Or by exposing a function which returns an object:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//config/jshint.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">){</span>
     <span class="k">return</span> <span class="p">{</span>
         <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
             <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
         <span class="p">}</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>

<h2>
<a name="declaring-multiple-task-configurations-in-one-file" class="anchor" href="#declaring-multiple-task-configurations-in-one-file"><span class="octicon octicon-link"></span></a>Declaring multiple task configurations in one file</h2>

<p>If the returned object contains a <code>tasks</code> key, its value will be assumed to be a name/configuration pair mapping:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//config/grunt.json</span>
<span class="p">{</span>
    <span class="s2">"tasks"</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">"jshint"</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">"gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
                <span class="s2">"src"</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">"watch"</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">"gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
                <span class="s2">"src"</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
                <span class="s2">"tasks"</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The above will configure both the <code>jshint</code> and <code>watch</code> tasks.</p>

<h2>
<a name="split-multi-task-configurations" class="anchor" href="#split-multi-task-configurations"><span class="octicon octicon-link"></span></a>Split multi-task configurations</h2>

<p>But wait, there is more!
You can split multi-task configurations in multiple files as well.
For instance if you have the above <code>config/grunt.json</code> file and you add the following file:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//config/test.json</span>
<span class="p">{</span>
    <span class="s2">"tasks"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"jshint"</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">"test"</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">"src"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"test/**/*.js"</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="s2">"watch"</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">"test"</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">"src"</span> <span class="o">:</span> <span class="p">[</span><span class="s2">"test/**/*.js"</span><span class="p">],</span>
                <span class="s2">"tasks"</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:test'</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Now both <code>watch</code> and <code>jshint</code> tasks have two targets: <code>gruntfile</code> and <code>test</code>.</p>

<h2>
<a name="passing-values-to-the-configuration-files" class="anchor" href="#passing-values-to-the-configuration-files"><span class="octicon octicon-link"></span></a>Passing values to the configuration files</h2>

<p>If you declare a function in your config file it receives two arguments: <code>grunt</code> and <code>options</code>, which allows you to use the <code>grunt</code> instance and pass values.</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//Gruntfile.js</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">paths</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">jshintrc</span><span class="o">:</span> <span class="s1">'.jshintrc'</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">configs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'load-grunt-configs'</span><span class="p">)(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

<span class="c1">//config/jshint.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">){</span>
     <span class="k">return</span> <span class="p">{</span>
         <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
             <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
         <span class="p">}</span>
     <span class="p">};</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="task-name-prefixed-task-targets" class="anchor" href="#task-name-prefixed-task-targets"><span class="octicon octicon-link"></span></a>Task name prefixed task targets</h2>

<p>As a convenience method you can prefix your task targets with the task name, separated by a ":" (colon). This allows you to do this:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//config/monitor.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"watch:test"</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">src</span> <span class="o">:</span> <span class="p">[</span><span class="s2">"test/**/*.js"</span><span class="p">],</span>
        <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:test'</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"watch:gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
        <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
        <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></div>

<p>This makes it easier when in the future you'd like to move the <code>watch:gruntfile</code> task configuration to another file for instance.</p>

<h2>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h2>

<p>You can modify the directory in which the configuration files need to reside:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//Gruntfile.js</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">config</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">src</span><span class="o">:</span> <span class="s2">"options/*.js"</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">configs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'load-grunt-configs'</span><span class="p">)(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
</pre></div>

<p>Will search for the configuration files in an <code>options</code> directory.</p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>You can take a look at the <code>Gruntfile.js</code> and the configuration files in the <code>config</code> directory of this project.
Or browse through the 3 demos in this repository:</p>

<ol>
<li>
<a href="https://github.com/creynders/load-grunt-configs/tree/master/demos/1.by-taskname">Configuration per task</a>. Each task configuration goes into its own file: <code>watch.js</code>, <code>jshint.js</code>, <code>concurrent.js</code>, ...</li>
<li>
<a href="https://github.com/creynders/load-grunt-configs/tree/master/demos/2.single-file">A single configs file</a>. The entirety of the grunt configuration is moved to a seperate file (<code>grunt.js</code>). This way the Gruntfile.js only contains task declarations.</li>
<li>
<a href="https://github.com/creynders/load-grunt-configs/tree/master/demos/3.by-type">Configuration by task type</a>. Task target configurationsare spread over multiple files and grouped wherever logically it makes sense.
E.g. <code>build.js</code>, <code>serve.js</code>, <code>test.js</code>
</li>
<li>
<a href="https://github.com/creynders/load-grunt-configs/tree/coffee">Configuration in coffeescript</a>: See <code>gruntfile.coffee</code> and the <code>.coffee</code> files in the <code>config</code> directory</li>
</ol><h2>
<a name="all-various-possibilities" class="anchor" href="#all-various-possibilities"><span class="octicon octicon-link"></span></a>All various possibilities</h2>

<ul>
<li>
<strong>json with a single task configuration</strong>: E.g. configures <code>jshint</code> task in <code>config/jshint.json</code> (task name extracted from file name)</li>
</ul><div class="highlight highlight-json"><pre><span class="p">{</span>
    <span class="nt">"gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<ul>
<li>
<strong>json with multiple task configurations</strong>: E.g. configures <code>jshint</code> and <code>watch</code> tasks in <code>config/&lt;whatever makes sense to you&gt;.json</code>. Note the top-most key "tasks" here, it alerts the module not to extract the task name from the file name.</li>
</ul><div class="highlight highlight-json"><pre><span class="p">{</span>
    <span class="nt">"tasks"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"jshint"</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
                <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">"watch"</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
                <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
                <span class="nt">"tasks"</span> <span class="p">:</span> <span class="p">[</span><span class="err">'jshint:gruntfile'</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<ul>
<li>
<strong>json with multiple task configurations using task prefixed targets</strong>: E.g. configures <code>jshint</code> and <code>watch</code> tasks in <code>config/&lt;whatever makes sense to you&gt;.json</code>
</li>
</ul><div class="highlight highlight-json"><pre><span class="p">{</span>
    <span class="nt">"tasks"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"jshint:gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span>
        <span class="p">},</span>
        <span class="nt">"watch:gruntfile"</span>       <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"src"</span> <span class="p">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
            <span class="nt">"tasks"</span> <span class="p">:</span> <span class="p">[</span><span class="err">'jshint:gruntfile'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<ul>
<li>
<strong>js with single task configuration as an object</strong>: E.g. configures <code>jshint</code> task in <code>config/jshint.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
         <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
     <span class="p">}</span>
<span class="p">};</span>
</pre></div>

<ul>
<li>
<strong>js with single task configuration as a function</strong>: E.g. configures <code>jshint</code> task in <code>config/jshint.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
            <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>

<ul>
<li>
<strong>js with multiple task configurations as an object</strong>: E.g. configures <code>jshint</code> and <code>watch</code> task in <code>config/&lt;whatever makes sense to you&gt;.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//note the `tasks` export here [!]</span>
    <span class="nx">jshint</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
            <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">watch</span> <span class="o">:</span> <span class="p">{</span>
        <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
            <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
            <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">};</span>
</pre></div>

<ul>
<li>
<strong>js with multiple task configurations as a function</strong>: E.g. configures <code>jshint</code> and <code>watch</code> task in <code>config/&lt;whatever makes sense to you&gt;.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span><span class="p">{</span>
            <span class="nx">jshint</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
                    <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="nx">watch</span> <span class="o">:</span> <span class="p">{</span>
                <span class="nx">gruntfile</span>       <span class="o">:</span> <span class="p">{</span>
                    <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
                    <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>

<ul>
<li>
<strong>js with multiple task configurations as an object using task prefixed targets</strong>: E.g. configures <code>jshint</code> and <code>watch</code> task in <code>config/&lt;whatever makes sense to you&gt;.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">tasks</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//note the `tasks` export here [!]</span>
    <span class="s2">"jshint:gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
        <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
    <span class="p">},</span>
    <span class="s2">"watch:gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
            <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
            <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>

<ul>
<li>
<strong>js with multiple task configurations as a function using task prefixed targets</strong>: E.g. configures <code>jshint</code> and <code>watch</code> task in <code>config/&lt;whatever makes sense to you&gt;.js</code>
</li>
</ul><div class="highlight highlight-javascript"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">tasks</span><span class="o">:</span><span class="p">{</span>
            <span class="s2">"jshint:gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
                <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span>
            <span class="p">},</span>
            <span class="s2">"watch:gruntfile"</span>       <span class="o">:</span> <span class="p">{</span>
                <span class="nx">src</span> <span class="o">:</span> <span class="s2">"Gruntfile.js"</span><span class="p">,</span>
                <span class="nx">tasks</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jshint:gruntfile'</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>

<h2>
<a name="changelog" class="anchor" href="#changelog"><span class="octicon octicon-link"></span></a>Changelog</h2>

<h3>
<a name="v030" class="anchor" href="#v030"><span class="octicon octicon-link"></span></a>v0.3.0</h3>

<ul>
<li>disallows function declaration anywhere else than as direct export</li>
<li>extracts taskname regardless of file extension</li>
</ul><h3>
<a name="v020" class="anchor" href="#v020"><span class="octicon octicon-link"></span></a>v0.2.0</h3>

<ul>
<li>adds coffeescript support</li>
<li>adds parsing of taskname prefixed task targets</li>
<li>fixes incorrect handling of functions at task config leaves</li>
</ul><h3>
<a name="v010" class="anchor" href="#v010"><span class="octicon octicon-link"></span></a>v0.1.0</h3>

<ul>
<li>adds "by type' demo</li>
<li>adds "by taskname" demo</li>
<li>adds "single file" demo</li>
<li>Initial commit</li>
</ul><h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2014 Camille Reynders
Licensed under the MIT license.</p>

<p>With special thanks to <a href="https://github.com/stefanpenner" class="user-mention">@stefanpenner</a> and <a href="https://github.com/thomasboyt" class="user-mention">@thomasboyt</a>.
This module is based on the ideas in Thomas' excellent tutorial:
<a href="http://www.thomasboyt.com/2013/09/01/maintainable-grunt.html">http://www.thomasboyt.com/2013/09/01/maintainable-grunt.html</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Load-grunt-configs maintained by <a href="https://github.com/creynders">creynders</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-12080113-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
